<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon.in Book Search Filter Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff9a56 0%, #ff6b95 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .filter-group {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #e0e0e0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .filter-group:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .filter-group h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 2px solid #ff6b95;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }

        .checkbox-item:hover {
            background-color: #f8f9ff;
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
            transform: scale(1.2);
        }

        .price-range {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
            align-items: center;
        }

        .price-range span {
            text-align: center;
            font-weight: bold;
            color: #666;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #ff9a56 0%, #ff6b95 100%);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 149, 0.3);
        }

        .btn-clear {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #dee2e6;
        }

        .btn-clear:hover {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        .result-section {
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
        }

        .result-section h3 {
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .url-display {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            word-break: break-all;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .filter-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Amazon.in Book Search Generator</h1>
            <p>Create custom search URLs with advanced filters for Amazon.in books</p>
        </div>

        <div class="content">
            <form id="searchForm">
                <div class="filter-grid">
                    <!-- Basic Search -->
                    <div class="filter-group">
                        <h3>üîç Basic Search</h3>
                        <div class="form-group">
                            <label for="keywords">Keywords / Book Title</label>
                            <input type="text" id="keywords" placeholder="Enter book title, author, or keywords">
                        </div>
                        <div class="form-group">
                            <label for="author">Author</label>
                            <input type="text" id="author" placeholder="Author name">
                        </div>
                        <div class="form-group">
                            <label for="sortBy">Sort By</label>
                            <select id="sortBy">
                                <option value="">Relevance</option>
                                <option value="price-asc-rank">Price: Low to High</option>
                                <option value="price-desc-rank">Price: High to Low</option>
                                <option value="review-rank">Customer Reviews</option>
                                <option value="date-desc-rank">Newest First</option>
                                <option value="salesrank">Bestsellers</option>
                            </select>
                        </div>
                    </div>

                    <!-- Categories -->
                    <div class="filter-group">
                        <h3>üìñ Book Categories</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="fiction" value="1318073031">
                                <label for="fiction">Fiction</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="nonfiction" value="1318074031">
                                <label for="nonfiction">Non-Fiction</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="textbooks" value="1318075031">
                                <label for="textbooks">Textbooks</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="business" value="1318068031">
                                <label for="business">Business & Economics</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="selfhelp" value="1318076031">
                                <label for="selfhelp">Self-Help</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="biography" value="1318077031">
                                <label for="biography">Biography</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="history" value="1318078031">
                                <label for="history">History</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="science" value="1318079031">
                                <label for="science">Science & Technology</label>
                            </div>
                        </div>
                    </div>

                    <!-- Price Range -->
                    <div class="filter-group">
                        <h3>üí∞ Price Range</h3>
                        <div class="price-range">
                            <input type="number" id="minPrice" placeholder="Min ‚Çπ">
                            <span>to</span>
                            <input type="number" id="maxPrice" placeholder="Max ‚Çπ">
                        </div>
                        <div class="form-group" style="margin-top: 20px;">
                            <div class="checkbox-item">
                                <input type="checkbox" id="freeShipping" value="1">
                                <label for="freeShipping">Free Shipping</label>
                            </div>
                        </div>
                    </div>

                    <!-- Format & Language -->
                    <div class="filter-group">
                        <h3>üìã Format & Language</h3>
                        <div class="form-group">
                            <label for="format">Format</label>
                            <select id="format">
                                <option value="">All Formats</option>
                                <option value="paperback">Paperback</option>
                                <option value="hardcover">Hardcover</option>
                                <option value="kindle">Kindle Edition</option>
                                <option value="audiobook">Audiobook</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="language">Language</label>
                            <select id="language">
                                <option value="">All Languages</option>
                                <option value="english">English</option>
                                <option value="hindi">Hindi</option>
                                <option value="tamil">Tamil</option>
                                <option value="telugu">Telugu</option>
                                <option value="bengali">Bengali</option>
                                <option value="marathi">Marathi</option>
                                <option value="gujarati">Gujarati</option>
                                <option value="kannada">Kannada</option>
                            </select>
                        </div>
                    </div>

                    <!-- Rating & Reviews -->
                    <div class="filter-group">
                        <h3>‚≠ê Rating & Reviews</h3>
                        <div class="form-group">
                            <label for="minRating">Minimum Rating</label>
                            <select id="minRating">
                                <option value="">Any Rating</option>
                                <option value="4">4‚òÖ & Above</option>
                                <option value="3">3‚òÖ & Above</option>
                                <option value="2">2‚òÖ & Above</option>
                                <option value="1">1‚òÖ & Above</option>
                            </select>
                        </div>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="primeEligible" value="1">
                                <label for="primeEligible">Prime Eligible</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="dealsOnly" value="1">
                                <label for="dealsOnly">Deals Only</label>
                            </div>
                        </div>
                    </div>

                    <!-- Publication Details -->
                    <div class="filter-group">
                        <h3>üìÖ Publication Details</h3>
                        <div class="form-group">
                            <label for="publisher">Publisher</label>
                            <input type="text" id="publisher" placeholder="Publisher name">
                        </div>
                        <div class="form-group">
                            <label for="publicationYear">Publication Year</label>
                            <select id="publicationYear">
                                <option value="">Any Year</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="submit" class="btn btn-primary">üîç Generate Search URL</button>
                    <button type="button" id="clearBtn" class="btn btn-clear">üóëÔ∏è Clear All</button>
                </div>
            </form>

            <div id="resultSection" class="result-section hidden">
                <h3>üéØ Generated Amazon Search URL (with Affiliate Link)</h3>
                <div id="urlDisplay" class="url-display"></div>
                <div class="action-buttons" style="gap: 15px; margin-top: 20px;">
                    <button id="copyBtn" class="copy-btn">üìã Copy URL</button>
                    <a href="#" id="openAmazon" class="btn btn-secondary" target="_blank" rel="noopener noreferrer">üõí Open in New Tab</a>
                </div>
                <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                    ‚ú® 
                </p>
            </div>
        </div>
    </div>

    <script>
        class AmazonSearchGenerator {
            constructor() {
                this.baseUrl = 'https://www.amazon.in/s';
                this.dealsUrl = 'https://www.amazon.in/deals';
                this.affiliateTag = 'learncomput08-21'; // Your affiliate store ID
                this.form = document.getElementById('searchForm');
                this.resultSection = document.getElementById('resultSection');
                this.urlDisplay = document.getElementById('urlDisplay');
                this.openAmazonBtn = document.getElementById('openAmazon');
                this.copyBtn = document.getElementById('copyBtn');
                this.clearBtn = document.getElementById('clearBtn');
                
                this.initEventListeners();
            }

            initEventListeners() {
                this.form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.generateUrl();
                });

                this.clearBtn.addEventListener('click', () => {
                    this.clearForm();
                });

                this.copyBtn.addEventListener('click', () => {
                    this.copyToClipboard();
                });
            }

            generateUrl() {
                const formData = new FormData(this.form);
                const params = new URLSearchParams();
                
                // Get all form values
                const keywords = document.getElementById('keywords').value.trim();
                const author = document.getElementById('author').value.trim();
                const sortBy = document.getElementById('sortBy').value;
                const format = document.getElementById('format').value;
                const language = document.getElementById('language').value;
                const minRating = document.getElementById('minRating').value;
                const publisher = document.getElementById('publisher').value.trim();
                const publicationYear = document.getElementById('publicationYear').value;
                const minPrice = document.getElementById('minPrice').value;
                const maxPrice = document.getElementById('maxPrice').value;
                
                // Check if deals only is selected
                const dealsOnly = document.getElementById('dealsOnly').checked;
                const baseUrl = dealsOnly ? this.dealsUrl : this.baseUrl;

                // Build search query
                let searchTerms = [];
                if (keywords) searchTerms.push(keywords);
                if (author) searchTerms.push(author);
                if (publisher) searchTerms.push(publisher);

                if (searchTerms.length > 0) {
                    params.append('k', searchTerms.join(' '));
                }

                // Add book department
                params.append('i', 'stripbooks');

                // Add categories
                const categories = [];
                const categoryInputs = document.querySelectorAll('input[type="checkbox"]:not(#freeShipping):not(#primeEligible):not(#dealsOnly)');
                categoryInputs.forEach(input => {
                    if (input.checked && input.value !== '1') {
                        categories.push(input.value);
                    }
                });

                if (categories.length > 0) {
                    params.append('rh', `n:976390031,n:${categories.join(',n:')}`);
                }

                // Add sorting
                if (sortBy) {
                    params.append('s', sortBy);
                }

                // Add price range
                if (minPrice || maxPrice) {
                    let priceFilter = 'p_36:';
                    if (minPrice && maxPrice) {
                        priceFilter += `${minPrice * 100}-${maxPrice * 100}`;
                    } else if (minPrice) {
                        priceFilter += `${minPrice * 100}-`;
                    } else if (maxPrice) {
                        priceFilter += `-${maxPrice * 100}`;
                    }
                    
                    const existingRh = params.get('rh');
                    if (existingRh) {
                        params.set('rh', `${existingRh},${priceFilter}`);
                    } else {
                        params.set('rh', `n:976390031,${priceFilter}`);
                    }
                }

                // Add format filter
                if (format) {
                    const formatMap = {
                        'paperback': 'p_n_feature_browse-bin:1318016031',
                        'hardcover': 'p_n_feature_browse-bin:1318017031',
                        'kindle': 'p_n_feature_browse-bin:1318018031',
                        'audiobook': 'p_n_feature_browse-bin:1318019031'
                    };
                    
                    if (formatMap[format]) {
                        const existingRh = params.get('rh');
                        if (existingRh) {
                            params.set('rh', `${existingRh},${formatMap[format]}`);
                        } else {
                            params.set('rh', `n:976390031,${formatMap[format]}`);
                        }
                    }
                }

                // Add language filter
                if (language) {
                    const languageMap = {
                        'english': 'p_n_feature_nine_browse-bin:3291437031',
                        'hindi': 'p_n_feature_nine_browse-bin:3291438031',
                        'tamil': 'p_n_feature_nine_browse-bin:3291439031',
                        'telugu': 'p_n_feature_nine_browse-bin:3291440031',
                        'bengali': 'p_n_feature_nine_browse-bin:3291441031',
                        'marathi': 'p_n_feature_nine_browse-bin:3291442031',
                        'gujarati': 'p_n_feature_nine_browse-bin:3291443031',
                        'kannada': 'p_n_feature_nine_browse-bin:3291444031'
                    };
                    
                    if (languageMap[language]) {
                        const existingRh = params.get('rh');
                        if (existingRh) {
                            params.set('rh', `${existingRh},${languageMap[language]}`);
                        } else {
                            params.set('rh', `n:976390031,${languageMap[language]}`);
                        }
                    }
                }

                // Add rating filter
                if (minRating) {
                    const ratingFilter = `p_72:${minRating}star`;
                    const existingRh = params.get('rh');
                    if (existingRh) {
                        params.set('rh', `${existingRh},${ratingFilter}`);
                    } else {
                        params.set('rh', `n:976390031,${ratingFilter}`);
                    }
                }

                // Add Prime eligible
                if (document.getElementById('primeEligible').checked) {
                    const primeFilter = 'p_85:2470955031';
                    const existingRh = params.get('rh');
                    if (existingRh) {
                        params.set('rh', `${existingRh},${primeFilter}`);
                    } else {
                        params.set('rh', `n:976390031,${primeFilter}`);
                    }
                }

                // Add free shipping
                if (document.getElementById('freeShipping').checked) {
                    const shippingFilter = 'p_76:419121031';
                    const existingRh = params.get('rh');
                    if (existingRh) {
                        params.set('rh', `${existingRh},${shippingFilter}`);
                    } else {
                        params.set('rh', `n:976390031,${shippingFilter}`);
                    }
                }

                // Add publication year
                if (publicationYear) {
                    const yearFilter = `p_n_publication_date:${publicationYear}`;
                    const existingRh = params.get('rh');
                    if (existingRh) {
                        params.set('rh', `${existingRh},${yearFilter}`);
                    } else {
                        params.set('rh', `n:976390031,${yearFilter}`);
                    }
                }

                // Special handling for deals
                if (dealsOnly) {
                    params.delete('i');
                    params.delete('k');
                    
                    // Create deals widget parameter
                    const dealsWidget = {
                        state: {
                            refinementFilters: {
                                departments: ['976390031']
                            }
                        },
                        version: 1
                    };
                    
                    if (categories.length > 0) {
                        dealsWidget.state.refinementFilters.departments = [`976390031/${categories.join('/')}`];
                    }
                    
                    params.set('discounts-widget', JSON.stringify(JSON.stringify(dealsWidget)));
                    params.set('ref_', 'nav_cs_gb');
                }

                // Add affiliate tag
                params.append('tag', this.affiliateTag);

                // Generate final URL
                const finalUrl = `${baseUrl}?${params.toString()}`;
                
                this.displayResult(finalUrl);
            }

            displayResult(url) {
                this.urlDisplay.textContent = url;
                this.openAmazonBtn.href = url;
                this.resultSection.classList.remove('hidden');
                
                // Scroll to result
                this.resultSection.scrollIntoView({ behavior: 'smooth' });
            }

            copyToClipboard() {
                const url = this.urlDisplay.textContent;
                navigator.clipboard.writeText(url).then(() => {
                    const originalText = this.copyBtn.textContent;
                    this.copyBtn.textContent = '‚úÖ Copied!';
                    setTimeout(() => {
                        this.copyBtn.textContent = originalText;
                    }, 2000);
                });
            }

            clearForm() {
                this.form.reset();
                this.resultSection.classList.add('hidden');
            }
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            new AmazonSearchGenerator();
        });
    </script>
</body>
</html>
